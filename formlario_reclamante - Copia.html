<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Atendimento Trabalhista - Reclamante</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f1f1f1;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 1000px;
      margin: 30px auto;
      background-color: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    h2, h3 {
      color: #2c3e50;
    }
    label {
      display: block;
      margin-top: 12px;
      font-weight: bold;
    }
    input, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #aaa;
      border-radius: 5px;
    }
    textarea {
      resize: vertical;
    }
    .section {
      margin-bottom: 30px;
    }
    button {
      background-color: #2c3e50;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #34495e;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2><i class="fas fa-user-tie"></i> Formulário de Atendimento Trabalhista</h2>
    <form id="formReclamante">
        <div class="section">
            <h3>1: Dados Cadastrais e Contato do Cliente</h3>
            <label>Nome Completo</label><input name="nome_completo">
            <label>CPF</label><input name="cpf">
            <label>RG</label><input name="rg">
            <label>Data de Nascimento</label><input type="date" name="data_nascimento">
            <label>Nacionalidade</label><input name="nacionalidade">
            <label>Estado Civil</label><input name="estado_civil">
            <label>Endereço Completo</label><input name="endereco_completo">
            <label>Telefone (Principal)</label><input name="telefone_principal">
            <label>Telefone (Alternativo)</label><input name="telefone_alternativo">
            <label>E-mail</label><input name="email">
            <label>Profissão</label><input name="profissao">
            <label>Nome da Mãe</label><input name="nome_mae">
          </div>
    
          <div class="section">
            <h3>2: Dados do Emprego e Contrato</h3>
            <label>Nome da Empresa/Empregador</label><input name="empresa">
            <label>CNPJ/CPF do Empregador</label><input name="cnpj">
            <label>Endereço do Empregador</label><input name="endereco_empregador">
            <label>Período de Contrato</label><input name="periodo_contrato">
            <label>Função/Cargo Desempenhado</label><input name="funcao">
            <label>Modalidade de Contrato</label><input name="modalidade">
            <label>Remuneração - Base Fixa</label><input name="remuneracao_base">
            <label>Remuneração - Comissão</label><input name="remuneracao_comissao">
            <label>Forma de Pagamento</label><input name="forma_pagamento">
            <label>Horário de Trabalho (Início)</label><input name="hora_inicio">
            <label>Horário de Trabalho (Fim)</label><input name="hora_fim">
            <label>Intervalo para Refeição/Descanso</label><input name="intervalo">
            <label>Dias de Trabalho</label><input name="dias_trabalho">
            <label>Jornada de Trabalho (Média)</label><input name="jornada_media">
            <label>Recebimento de Horas Extras?</label><input name="horas_extras">
            <label>Recebimento de Férias?</label><input name="ferias">
            <label>Recebimento de 13º Salário?</label><input name="decimo_terceiro">
            <label>Recebimento de Verbas Rescisórias?</label><input name="verbas_rescisorias">
            <label>Saque de FGTS?</label><input name="fgts">
            <label>Seguro Desemprego?</label><input name="seguro_desemprego">
          </div>
    
          <div class="section">
            <h3>3: Detalhes da Prestação de Serviço e Vínculo</h3>
            <label>Subordinação (Quem dava as ordens?)</label><input name="subordinacao">
            <label>Pessoa Física/Habitualidade</label><input name="habitualidade">
            <label>Onerosidade (Forma de Pagamento)</label><input name="onerosidade">
            <label>Material de Trabalho (Quem fornecia?)</label><input name="material">
            <label>Exclusividade (Poderia trabalhar para outros?)</label><input name="exclusividade">
            <label>Testemunhas (Nome/Contato)</label><textarea name="testemunhas"></textarea>
            <label>Documentos Disponíveis</label><textarea name="documentos"></textarea>
            <label>Resumo do Conflito/Motivo da Saída</label><textarea name="resumo_conflito"></textarea>
            <label>Objetivo do Cliente</label><textarea name="objetivo_cliente"></textarea>
            <label>Outras Informações Relevantes</label><textarea name="outras_informacoes"></textarea>
          </div>
    
          <div class="section">
            <h3>4: Observações do Advogado e Próximos Passos</h3>
            <label>Análise Preliminar do Caso</label><textarea name="analise_preliminar"></textarea>
            <label>Documentos Pendentes</label><textarea name="documentos_pendentes"></textarea>
            <label>Estratégia Processual Sugerida</label><textarea name="estrategia"></textarea>
            <label>Honorários e Contrato</label><textarea name="honorarios"></textarea>
            <label>Próximos Passos/Prazos</label><textarea name="proximos_passos"></textarea>
            <label>Data da Entrevista</label><input type="date" name="data_entrevista">
            <label>Nome do Advogado Atendente</label><input name="advogado">
            <label>Número do Processo (se aplicável)</label><input name="numero_processo">
          </div>
      <button type="button" onclick="gerarPDFTexto()">
        <i class="fas fa-file-pdf"></i> Gerar PDF
      </button>
    </form>
  </div>

  <script>
    async function gerarPDFTexto() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const form = document.getElementById('formReclamante');
      const data = new FormData(form);

      const titulosSecoes = {
        1: "1: Dados Cadastrais e Contato do Cliente",
        2: "2: Dados do Emprego e Contrato",
        3: "3: Detalhes da Prestação de Serviço e Vínculo",
        4: "4: Observações do Advogado e Próximos Passos"
      };

      const camposPorSecao = {
        1: ["nome_completo", "cpf", "rg", "data_nascimento", "nacionalidade", "estado_civil", "endereco_completo", "telefone_principal", "telefone_alternativo", "email", "profissao", "nome_mae"],
        2: ["empresa", "cnpj", "endereco_empregador", "periodo_contrato", "funcao", "modalidade", "remuneracao_base", "remuneracao_comissao", "forma_pagamento", "hora_inicio", "hora_fim", "intervalo", "dias_trabalho", "jornada_media", "horas_extras", "ferias", "decimo_terceiro", "verbas_rescisorias", "fgts", "seguro_desemprego"],
        3: ["subordinacao", "habitualidade", "onerosidade", "material", "exclusividade", "testemunhas", "documentos", "resumo_conflito", "objetivo_cliente", "outras_informacoes"],
        4: ["analise_preliminar", "documentos_pendentes", "estrategia", "honorarios", "proximos_passos", "data_entrevista", "advogado", "numero_processo"]
      };

      const labels = {
        nome_completo: "Nome Completo",
        cpf: "CPF",
        rg: "RG",
        data_nascimento: "Data de Nascimento",
        nacionalidade: "Nacionalidade",
        estado_civil: "Estado Civil",
        endereco_completo: "Endereço Completo",
        telefone_principal: "Telefone (Principal)",
        telefone_alternativo: "Telefone (Alternativo)",
        email: "E-mail",
        profissao: "Profissão",
        nome_mae: "Nome da Mãe",
        empresa: "Nome da Empresa/Empregador",
        cnpj: "CNPJ/CPF do Empregador",
        endereco_empregador: "Endereço do Empregador",
        periodo_contrato: "Período de Contrato",
        funcao: "Função/Cargo Desempenhado",
        modalidade: "Modalidade de Contrato",
        remuneracao_base: "Remuneração - Base Fixa",
        remuneracao_comissao: "Remuneração - Comissão",
        forma_pagamento: "Forma de Pagamento",
        hora_inicio: "Horário de Trabalho (Início)",
        hora_fim: "Horário de Trabalho (Fim)",
        intervalo: "Intervalo para Refeição/Descanso",
        dias_trabalho: "Dias de Trabalho",
        jornada_media: "Jornada de Trabalho (Média)",
        horas_extras: "Recebimento de Horas Extras?",
        ferias: "Recebimento de Férias?",
        decimo_terceiro: "Recebimento de 13º Salário?",
        verbas_rescisorias: "Recebimento de Verbas Rescisórias?",
        fgts: "Saque de FGTS?",
        seguro_desemprego: "Seguro Desemprego?",
        subordinacao: "Subordinação (Quem dava as ordens?)",
        habitualidade: "Pessoa Física/Habitualidade",
        onerosidade: "Onerosidade (Forma de Pagamento)",
        material: "Material de Trabalho (Quem fornecia?)",
        exclusividade: "Exclusividade (Poderia trabalhar para outros?)",
        testemunhas: "Testemunhas (Nome/Contato)",
        documentos: "Documentos Disponíveis",
        resumo_conflito: "Resumo do Conflito/Motivo da Saída",
        objetivo_cliente: "Objetivo do Cliente",
        outras_informacoes: "Outras Informações Relevantes",
        analise_preliminar: "Análise Preliminar do Caso",
        documentos_pendentes: "Documentos Pendentes",
        estrategia: "Estratégia Processual Sugerida",
        honorarios: "Honorários e Contrato",
        proximos_passos: "Próximos Passos/Prazos",
        data_entrevista: "Data da Entrevista",
        advogado: "Nome do Advogado Atendente",
        numero_processo: "Número do Processo (se aplicável)"
      };

      let y = 20;
      doc.setFont("Helvetica", "bold");
      doc.setFontSize(16);
      doc.text("Ficha de Atendimento Trabalhista", 105, y, { align: "center" });
      y += 10;

      doc.setFontSize(10);
      doc.setFont("Helvetica", "normal");
      doc.text(`Data: ${new Date().toLocaleDateString()}`, 15, y);
      y += 10;

      doc.setFontSize(12);

      for (let secao = 1; secao <= 4; secao++) {
        y += 10;
        doc.setFont("Helvetica", "bold");
        doc.text(titulosSecoes[secao], 15, y);
        y += 10;
        doc.setFont("Helvetica", "normal");

        for (let campo of camposPorSecao[secao]) {
          const valor = data.get(campo);
          const titulo = labels[campo] || campo;
          const linhas = doc.splitTextToSize(valor, 180);

          if (y + (linhas.length + 2) * 8 > 280) {
            doc.addPage();
            y = 20;
          }

          doc.setFont("Helvetica", "bold");
          doc.text(`${titulo}:`, 15, y);
          y += 8;
          doc.setFont("Helvetica", "normal");
          doc.text(linhas, 20, y);
          y += linhas.length * 8;
        }
      }

      doc.save("formulario_atendimento_trabalhista.pdf");
    }
  </script>
</body>
</html>
